<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add License | Client Portal | OneLicense Software Management </title>
    <link rel="stylesheet" href="client_styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <meta name="viewport" content="width=device-width">
    <script src="Functions.js"></script>

</head>
<body>
    <div class="header" id="header">
		<i class="material-icons MenuButton" style="color:white;" onclick="toggleSidebar();">menu</i>
	</div>

<div class="main">
    <div class="menu" id="sidebar">
        <a id="logo" href="ClientPage.html">
            <div class="logobox"></div></a>
        <a href="ClientPage.html">Dashboard</a>
        <a href="AccountSettings.html">Account Settings</a>
        <a href="AddLicense.html">Add License</a>
        <a href="RenewLicense.html">Renew License</a>
        <a href="EndLicense.html">End License</a>
        <a href="/auth-form/logout">Log Out</a>
    </div>
    <div class="background-container">
        <div class="background-image"></div>
        <div class="body1">
            <h1><br>Add a License<br></h1>
            <br>
            <form id="addLicenseForm" action="/client-portal/action/add-license" method="POST">
                <div>
                    <label for="SerialNumber">Serial Number</label>
                    <input type="text" name="SerialNumber" id="SerialNumber" required placeholder="A1A1A-B1B1B-C1C1C-D1D1D">
                </div>
                <br>
                <div>
                    <label for="Software">Software Name</label>
                    <input type="text" name="Software" id="Software" required>
                </div>
                <br>
                <div>
                    <label for="PurchaseDate">Purchase Date</label>
                    <input type="date" name="PurchaseDate" id="PurchaseDate" required placeholder="YYYY-MM-DD">
                </div>
                <br>
                <div>
                    <label for="ExpiryDate">Expiry Date</label>
                    <input type="date" name="ExpiryDate" id="ExpiryDate" required placeholder="YYYY-MM-DD">
                </div>
                <br>
                <input type="button" onclick="add()" value="Add" id="button">
            </form>
        </div>
    </div>
</div>
    <script>
        function add() {
        fetch('action/add-license', {
            method: "POST",
            body: JSON.stringify({
                SerialNumber: document.getElementById('SerialNumber').value,
                ExpiryDate: document.getElementById('ExpiryDate').value,
            }),
            headers: {
             "Content-type": "application/json; charset=UTF-8"
            }
        })
        .then(response => response.json())
        .then(data => {
          alert(JSON.stringify(data));
        })
        .catch(error => {
           console.error('Error:', error);
        });
}
    </script>
</body>
</html>
