<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Account Settings | Provider Portal | OneLicense Software Management </title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="provider-style.css">
    <link rel="icon" href="/img/favicon.ico" type="image/x-icon">

    <script type="text/javascript" src="script.js"></script>


    <script>

            fetch('action/getaccountdetails')
            .then(response => response.json())
            .then(user => {

                document.getElementById("name").value = user.firstName;
                document.getElementById("lastName").value = user.lastName;
                document.getElementById("email").value = user.email_address;
                document.getElementById("address").value = user.address;
            });

            function validateAcctSettings(){
                    let oldPassword = document.getElementById('oldPassword').value;
                    let newPassword = document.getElementById('newPassword').value;
                    let confirmPass = document.getElementById('ConfirmPass').value;
                    if ((newPassword == confirmPass)){
                        alert("Your account settings have been changed. Please sign in again.");
                        return true;
                    } else{
                        alert("Your passwords do not match. Please confirm that they are correct and try again.");
                        return false;
                    }
             }


    </script>

</head>
<body>

    <!--Header section-->
    <div class="header" id="header">
        <i class="material-icons MenuButton" style="color:white;" onclick="toggleSidebar();">menu</i>
    </div>


    <!--Sidebar-->
    <div class="sidebar" id="sidebar">
        <!--<img alt="logo" />-->

        <div class="LogoContainer">
            <a href="provider-dashboard.html"> <span class="dot"></span>  </a>
        </div>


        <ul style="list-style: none; padding: 0;">
            <li class="SidebarItem" onclick="window.location.href = 'provider-dashboard.html';">Dashboard</li>
            <li class="SidebarItem" onclick="window.location.href = 'software.html';">Software</li>
            <li class="SidebarItem" onclick="window.location.href = 'users.html';">Users</li>
            <li class="SidebarItem" onclick="window.location.href = 'account-settings.html';">Account Settings</li>
            <li class="SidebarItem" onclick="window.location.href = '/auth-form/logout';">Log Out</li>

        </ul>

    </div>


    <!--Page content-->
    <div id="MyAccountPage" class="MainContent">

        <h2>My Account</h2>

        <div class="account-section">
            <div class="general-section">
                <h3>General<br></h3>
                <br>
                <form action="action/update-provider-account-settings" method="post" onsubmit="return validateAcctSettings()">
                <div>
                    <label for="email">Email</label><br>
                    <input type="email" name="email" id="email" value=" " required>
                </div>
                <div>
                    <label for="address">Address</label><br>
                    <input type="text" name="address" id="address" value=" " required>
                </div>
                <div>
                    <label for="name">First Name</label><br>
                    <input type="text" name="firstName" id="name" value=" " required>
                </div>
                <div>
                    <label for="lastName">Last Name</label><br>
                    <input type="text" name="lastName" id="lastName" value=" " required>
                </div>
            </div>
            <div class="password-section">
                <h3>Change Password<br></h3>
                <br>
                <div>
                    <label for="oldPassword">Old Password</label><br>
                    <input type="password" name="oldPassword" id="oldPassword" required>
                </div>
                <div>
                    <label for="newPassword">New Password</label><br>
                    <input type="password" name="newPassword" id="newPassword" required>
                </div>
                <div>
                    <label for="ConfirmPass">Confirm New Password</label><br>
                    <input type="password" name="ConfirmPass" id="ConfirmPass" required>
                </div>
            </div>
            <input type="submit" value="Edit" id="button">
            </form>

           
        </div>

        

    </div>






</body>
</html>